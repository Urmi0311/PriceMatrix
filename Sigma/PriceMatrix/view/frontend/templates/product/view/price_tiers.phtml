<?php



$priceMatrixModel = $block->getPriceMatrixModel();

$priceTiers = [];
for ($i = 1; $i <= 5; $i++) {
    $basePrice = $priceMatrixModel->getData('display_base_price_' . $i);
    $qty = $priceMatrixModel->getData('display_qty_' . $i);

    if ($basePrice && $qty) {
        $priceTiers[] = [
            'qty' => $qty,
            'price' => $basePrice,
        ];
    }
}
?>

<?php if (!empty($priceTiers)): ?>
    <div class="price-tiers">
        <table>
            <thead>
            <tr>
                <th>Quantity</th>
                <th>Pricing</th>
            </tr>
            </thead>
            <tbody>
            <?php foreach ($priceTiers as $key => $tier): ?>
                <?php if (isset($priceTiers[$key + 1])): ?>
                    <tr>
                        <td><?php echo $tier['qty']; ?> - <?php echo $priceTiers[$key + 1]['qty'] - 1; ?> pcs</td>
                        <td>$<?php echo number_format($tier['price'], 2); ?> each</td>
                    </tr>
                <?php else: ?>
                    <tr>
                        <td><?php echo $tier['qty']; ?>+ pcs</td>
                        <td>$<?php echo number_format($tier['price'], 2); ?> each</td>
                    </tr>
                <?php endif; ?>
            <?php endforeach; ?>
            </tbody>
        </table>
    </div>
<?php endif; ?>
